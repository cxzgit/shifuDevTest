Industrial Environmental Sensor Model X100 HTTP Driver

Overview
- Connects to X100 over Modbus RTU (RS-485) and exposes an HTTP endpoint.
- Polls sensor every 5 seconds, validates CRC, and retries up to 3 times on failures.
- Returns JSON with temperature (°C), humidity (%RH), and PM2.5 (μg/m³).

Build
- Requires a C++17 compiler on Linux.
- Build command:
  g++ -std=c++17 -O2 -pthread driver.cpp -o x100-driver

Run
- Set environment variables as needed and run the binary.

Environment Variables
- HTTP_HOST: HTTP server bind address (default: 0.0.0.0)
- HTTP_PORT: HTTP server port (default: 8080)
- SERIAL_PORT: Serial device path (default: /dev/ttyUSB0)
- BAUD_RATE: Serial baud rate (default: 9600)
- DATA_BITS: Serial data bits (default: 8)
- PARITY: Serial parity, one of N/E/O (default: N)
- STOP_BITS: Serial stop bits (default: 1)
- MODBUS_ADDRESS: Modbus slave address (default: 1)
- POLL_INTERVAL_MS: Poll interval in milliseconds (default: 5000)
- READ_TIMEOUT_MS: Per-read timeout in milliseconds (default: 1500)
- RETRY_LIMIT: Per-poll retry attempts on communication failure (default: 3)
- BACKOFF_BASE_MS: Initial backoff when disconnected (default: 500)
- BACKOFF_MAX_MS: Max backoff when disconnected (default: 10000)

Example
- Run the driver:
  SERIAL_PORT=/dev/ttyUSB0 MODBUS_ADDRESS=1 ./x100-driver
- Query readings:
  curl http://localhost:8080/readings

HTTP API
- GET /readings
  Returns latest measurements in JSON:
  {"temperature_c":23.45,"humidity_rh":56.78,"pm25_ug_m3":12.34,"timestamp":"2025-01-01T12:00:00Z"}

Notes
- Assumes values are provided as IEEE-754 32-bit floats using big-endian Modbus word order (two registers per measurement).
- Logs key events and handles graceful shutdown on SIGINT/SIGTERM.

Generated by [IoT Driver Copilot](https://copilot.test.shifu.dev/)
