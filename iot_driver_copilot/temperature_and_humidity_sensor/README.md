SHT30 Temperature & Humidity Sensor HTTP Driver (I2C to HTTP)

Overview
- Connects to a Sensirion SHT30-like sensor over I²C (address 0x40 or 0x41) and exposes an HTTP interface.
- Periodically polls the sensor every 2 seconds and buffers the latest reading.
- Supports calibration offsets for temperature and humidity.
- Handles disconnection with retry and exponential backoff.

Build
- Requirements: Go 1.20+
- Build: go build -o sht30-driver

Run
Set environment variables as needed, then run the executable.

Environment Variables
- HTTP_HOST: HTTP server host to bind (default: 0.0.0.0)
- HTTP_PORT: HTTP server port (default: 8080)
- I2C_BUS: I²C bus identifier (e.g., 1, i2c-1, or /dev/i2c-1) (default: 1)
- I2C_ADDRESS: I²C address to use (allowed: 0x40 or 0x41) (default: 0x40)
- CAL_TEMP_OFFSET: Optional temperature offset in °C (float, default: 0)
- CAL_HUM_OFFSET: Optional humidity offset in %RH (float, default: 0)
- BACKOFF_INITIAL_MS: Initial retry backoff when disconnected (default: 500)
- BACKOFF_MAX_MS: Maximum retry backoff when disconnected (default: 10000)
- MEAS_DELAY_MS: Measurement delay between command and read (default: 20)

HTTP APIs
- GET /status
  Reports connection state and current I²C address.
  Example: curl -s http://localhost:8080/status

- GET /i2c
  Returns current I²C address.
  Example: curl -s http://localhost:8080/i2c

- PUT /i2c
  Changes the I²C address (allowed: 0x40 or 0x41). Note: The physical sensor must match this setting.
  Example: curl -s -X PUT http://localhost:8080/i2c -H 'Content-Type: application/json' -d '{"address":"0x41"}'

- GET /calibration
  Returns current calibration offsets.
  Example: curl -s http://localhost:8080/calibration

- PUT /calibration
  Sets calibration offsets (either field may be omitted to leave unchanged).
  Body fields: temp_offset (°C), humidity_offset (%RH)
  Example: curl -s -X PUT http://localhost:8080/calibration -H 'Content-Type: application/json' -d '{"temp_offset":0.2, "humidity_offset":-1.5}'

- GET /readings
  Returns the latest temperature (°C) and humidity (%RH). If disconnected, returns 503 with an error.
  Example: curl -s http://localhost:8080/readings

Notes
- The driver communicates with the sensor over I²C on Linux using periph.io.
- Periodic polling is fixed at every 2 seconds as required.
- If the address does not match the physical sensor's configuration, /status will show disconnected and /readings will return 503.

Generated by [IoT Driver Copilot](https://copilot.test.shifu.dev/)
