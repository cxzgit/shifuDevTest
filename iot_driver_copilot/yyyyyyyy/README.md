IoT HTTP Driver for device yyyyyyyy (model huv)

Overview
- Connects to the device via its native HTTP/REST protocol.
- Actively polls the device for JSON-formatted info and exposes it through a simple HTTP endpoint.
- Implements resilient background collection with timeout, retry, and exponential backoff, and serves the latest sample from an in-memory thread-safe buffer.

Exposed HTTP API
- GET /device/info
  - Returns the latest JSON payload collected from the device.
  - If no data is available yet, returns HTTP 503 with a JSON error message.

Configuration via Environment Variables
All configuration must be provided via environment variables. No hard-coded values are used.
- HTTP_HOST: Host/IP on which the driver HTTP server listens (e.g., 0.0.0.0)
- HTTP_PORT: Port for the driver HTTP server (e.g., 8080)
- DEVICE_URL: Base URL of the device native HTTP endpoint (e.g., http://192.168.1.50:8000)
- DEVICE_INFO_PATH: Path on the device to fetch info (e.g., /api/v1/info)
- POLL_INTERVAL_SEC: Polling interval in seconds (e.g., 2)
- REQUEST_TIMEOUT_SEC: HTTP request timeout for device calls in seconds (e.g., 5)
- BACKOFF_INITIAL_SEC: Initial backoff delay in seconds when errors occur (e.g., 1)
- BACKOFF_MAX_SEC: Maximum backoff delay in seconds (e.g., 30)
- BACKOFF_MULT: Exponential backoff multiplier (>1.0) (e.g., 2.0)
- SHUTDOWN_GRACE_SEC: Graceful shutdown timeout in seconds (e.g., 10)
- DEVICE_AUTH_TYPE: Optional auth type: basic or bearer (empty for none)
  - If DEVICE_AUTH_TYPE=basic, set:
    - DEVICE_USERNAME
    - DEVICE_PASSWORD
  - If DEVICE_AUTH_TYPE=bearer, set:
    - DEVICE_TOKEN

Run
1. Set environment variables appropriately.
2. Build and run:
   - go run .
   or
   - go build -o driver && ./driver

Example
- Start server:
  - HTTP_HOST=0.0.0.0 HTTP_PORT=8080 \
    DEVICE_URL=http://192.168.1.50:8000 \
    DEVICE_INFO_PATH=/device/info \
    POLL_INTERVAL_SEC=2 REQUEST_TIMEOUT_SEC=5 \
    BACKOFF_INITIAL_SEC=1 BACKOFF_MAX_SEC=30 BACKOFF_MULT=2 \
    SHUTDOWN_GRACE_SEC=10 \
    go run .

- Query device info via driver:
  - curl http://localhost:8080/device/info

Notes
- The driver polls the device at POLL_INTERVAL_SEC and caches the latest JSON sample.
- On errors/timeouts, it retries with exponential backoff until the device becomes reachable again.
- Graceful shutdown ensures background workers are stopped and the HTTP server exits cleanly.

Generated by [IoT Driver Copilot](https://copilot.test.shifu.dev/)
